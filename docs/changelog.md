# Changelog: Waygate

> Follows [Keep a Changelog](https://keepachangelog.com/) conventions. For pre-v1.0 history, see `docs/archive/changelog-pre-v1.md`.

---

## [Unreleased]

### Added

- **Composite Tools Test Suite**: Comprehensive unit test coverage for composite tools feature (146 tests). Tests cover routing rule evaluation, schema merging, parameter mapping, and Zod schema validation. All tests pass successfully.

### Known Issues

- TypeScript compilation errors in composite tools implementation (13 errors). Feature is functionally complete but requires type fixes for production readiness.

---

## [1.0.7] - 2026-01-31

### Added

- **Variable Context System**: Define reusable variables at tenant and connection levels with support for strings, numbers, booleans, and JSON values. Reference variables in action configurations using `${var.name}` syntax. Built-in runtime variables (`${current_user.id}`, `${connection.workspaceId}`, `${request.timestamp}`) provide dynamic context. Connection-level variables override tenant defaults, enabling per-connection customization. Sensitive variables are encrypted at rest and masked in logs. New Settings → Variables section and connection detail Variables tab for management. Variable autocomplete in action editors helps discover available variables.

---

## [1.0.6] - 2026-01-30

### Added

- **Simple Tool Export**: Export Waygate actions as AI-consumable tools for all major LLM platforms. Supports Universal (LLM-agnostic), LangChain, and MCP formats. Includes context resolver for human-friendly name→ID resolution, agent-readable response formatters with follow-on instructions, and UI for export/download. Enables AI agents to use Waygate integrations directly through standardized tool interfaces.
- **LLM-Generated Tool Descriptions**: Actions can now store AI-optimized tool descriptions generated by LLM at creation time. Stored descriptions include mini-prompt format (inputs/outputs), success templates, and error templates. Regenerate button in Action Settings tab allows refreshing descriptions as schemas change.

### Improved

- **AI Tools Tab UX**: Simplified tool listing on Integration page shows available tools with parameter counts instead of cluttered expandable descriptions. Per-action tool descriptions are managed in Action editor Settings tab for better organization.
- **Code Renderer Text Wrapping**: All code blocks in AI Tools tab now wrap text instead of requiring horizontal scrolling, improving readability on smaller screens.

---

## [1.0.5] - 2026-01-29

### Added

- **Reference Data Sync**: Integrations can now cache slow-changing reference data (users, channels, repositories, etc.) from external APIs. Configure actions as reference data sources with extraction paths, and Waygate will sync and cache this data for AI tool context. Includes cron-based background sync, manual sync triggers, and UI components for viewing cached data and sync history.

---

## [1.0.4] - 2026-01-28

### Improved

- **Integration Health Visibility**: Health status now visible at integration level. Integration list and table views show aggregate connection health (Healthy/Unhealthy/Pending) instead of simple Active/Draft badges. Integration Overview page includes Connection Health section showing counts by status.

---

## [1.0.3] - 2026-01-26

### Improved

- **Connection Cards**: Reorganized badge layout to prevent overflow. Connector type badge moved to card body, primary badge simplified to icon-only for compact display.
- **Connection Detail Sheet**: Increased width from 512px to 768px/896px for better content visibility.
- **Field Mappings**: Replaced individual mapping cards with a unified table view for easier at-a-glance management.
- **Default Credentials**: Renamed "Credentials" panel in Overview tab to "Default Credentials" with explanatory text clarifying these are used when apps don't specify a connection.
- **Authentication Status**: Added "Setup Required" badge when integration requires authentication but credentials aren't configured. Shows "Configured" badge when credentials are active.
- **Platform Connector UX**: Improved empty state messaging when no platform connectors are available, with clearer guidance to use custom credentials instead.

---

## [1.0.2] - 2026-01-26

### Added

- **Connection Credentials API**: New `/api/v1/connections/{id}/credentials` endpoint returns credential status without exposing sensitive data. Supports connection-specific credentials with fallback to integration-level.

### Fixed

- **Prisma Schema Mismatch**: Added missing `credential_source` column and `CredentialSource` enum via migration. Fixes P2022 errors when loading connection details.
- **Connection Detail Panel**: Health status and credentials sections now load correctly. Health checks can be triggered successfully.

---

## [1.0.1] - 2026-01-25

### Fixed

- **Connections API 500 Error**: Added missing database migration for `ConnectorType` enum, `PlatformConnectorStatus` enum, `platform_connectors` table, and connection columns. Fixed API response format to nest data correctly.

---

## [1.0.0] - 2026-01-25

### Summary

V0.75 complete. All four features finalized: Multi-App Connections, Hybrid Auth Model, Continuous Integration Testing, and Per-App Custom Mappings.

### Added

- **Milestone Restructure**: Reorganized roadmap with AI Tool Factory focus. V1.1 combines Reference Data Sync + Tool Factory. V2 includes Scale & Safety features.

---

## Archive Reference

| Period   | Versions      | Archive Location                   |
| -------- | ------------- | ---------------------------------- |
| Pre-v1.0 | 0.0.0 - 0.9.0 | `docs/archive/changelog-pre-v1.md` |
